<div data-th-replace="header::header">머리말</div>

<div class="page-margin wrapper-mos">

    <h2>스터디 모집하기!</h2>

    <form id="studyInfo" action="./add" data-th-action="@{add}" method="post">
        <div>
            스터디 제목을 입력해주세요!<br> <input name="title" type="text">
        </div>
        <br>
        <div>
            스터디 방식을 선택해주세요!<br>
            <input type="radio" value="온라인" name="method" th:checked="true"> 온라인<br>
            <input type="radio" value="오프라인" name="method"> 오프라인<br>
            <input type="radio" value="자유방식" name="method"> 자유방식<br>
        </div>
        <br>
        <div>
            모집 인원수를 설정해주세요!<br>
            <input name="intake" type="number" th:value="5">
        </div>
        <br>
        <div>
            언제까지 모집하시겠어요?<br>
            <input name="recruitmentDeadline" type="date" th:value="2024-05-08">
        </div>
        <br>
        <div>
            스터디 빈도와 진행 기간은 어떻게 되나요?<br>
            시작일 : <input name="startDate" type="date" th:value="2024-05-08"><br>
            종료일 : <input name="endDate" type="date" th:value="2024-05-08"><br>
        </div>
        <br>
        <div>
            태그들을 선택하세요!<br>
            <div data-th-each="tag : ${tagList}" data-th-object="${tag}">
                <input type="checkbox" data-th-checkbox="true" data-th-value="*{tagNo}" name="tags">
                <span data-th-text="*{name}"></span>
            </div>
        </div>

        <div id="editor"></div>
        <input type="hidden" name="introduction" id="editor-content">

        <div>
            <button type="submit">등록</button>
        </div>
    </form>

    <script>
        const {Editor} = toastui;
        const {codeSyntaxHighlight} = Editor.plugin;

        let editor = new toastui.Editor({
            el: document.querySelector('#editor'),
            height: '70%',
            initialEditType: 'markdown',
            previewStyle: 'vertical',
            plugins: [codeSyntaxHighlight],
            placeholder: '스터디에 대해서 설명해주세요.',
            useCommandShortcut: true,
        });

        const form = document.getElementById('studyInfo');
        const editorContent = document.getElementById('editor-content');

        form.addEventListener('submit', function (event) {
            event.preventDefault();
            const editorContent = editor.getMarkdown();
            document.getElementById('editor-content').value = editorContent;
            form.submit();
        });
    </script>


</div>
<div data-th-replace="footer::footer">꼬리말</div>
